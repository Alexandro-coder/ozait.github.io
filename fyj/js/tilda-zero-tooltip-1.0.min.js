function t396_initTooltip(t){var e,o,i=t.querySelector(".tn-atom__pin");i&&!i.isInited&&(e=t.querySelector(".tn-atom__tip"),o=t.getAttribute("data-field-tipopen-value"),window.t396__isMobile||"click"===o?(t396_setUpTooltip_mobile(t,i,e),t396__setTooltipResizeObserver(t,e)):t396_setUpTooltip_desktop(t,i,e),i.isInited=!0,setTimeout(function(){var t=document.querySelectorAll(".tn-atom__tip-img");Array.prototype.forEach.call(t,function(t){var e=t.getAttribute("data-tipimg-original");e&&(t.src=e)})},3e3))}function t396__setTooltipResizeObserver(o,i){var n,l=document.body.getClientRects();l.length&&"ResizeObserver"in window&&(n=l[0].height,new ResizeObserver(function(t){for(var e=0;e<t.length;e++)t[e].contentRect.height!==n&&(n=l[0].height,t396_hideTooltip(o,i))}).observe(document.body))}function t396_setUpTooltip_desktop(o,t,e){var i;o=t396_getEl(o),t&&(t.addEventListener("mouseover",function(){var t=document.querySelectorAll(".tn-atom__tip_visible");Array.prototype.forEach.call(t,function(t){var e=t.closest(".t396__elem");(e?e.getAttribute("data-elem-id"):"")!==o.getAttribute("data-elem-id")&&t396_hideTooltip(e,t)}),clearTimeout(i),e&&"block"===e.style.display||t396_showTooltip(o,e)}),t.addEventListener("mouseout",function(){i=setTimeout(function(){t396_hideTooltip(o,e)},300)}))}function t396_setUpTooltip_mobile(e,t,o){e=t396_getEl(e),t&&t.addEventListener("click",function(){(o&&"block"===o.style.display&&t.classList.contains("tn-atom__pin")?t396_hideTooltip:t396_showTooltip)(e,o)});var i=e.getAttribute("data-elem-id");document.addEventListener("click",function(t){if(t.target.closest(".tn-atom__pin")){t=t.target.closest(".t396__elem");if((t?t.getAttribute("data-elem-id"):"")===i)return}t396_hideTooltip(e,o)})}function t396_hideTooltip(t,e){e&&(e.style.display=""),e&&(e.style.left=""),e&&(e.style.transform=""),e&&(e.style.right=""),e&&e.classList.remove("tn-atom__tip_visible"),t&&(t.style.zIndex="")}function t396_showTooltip(t,e){var o,i,n,l,s,a,r=(t=t396_getEl(t)).querySelector(".tn-atom__sbs-anim-wrapper"),d=(d=t.getAttribute("data-field-tipposition-value"))||"top",c=(r&&(t=(o=t).querySelector(".tn-atom__pin")),-1<navigator.userAgent.toLowerCase().indexOf("firefox")),c=t.closest(".t396__artboard_scale")&&!t396_isOnlyScalableBrowser()&&!c,p=t.scaleFactor||window.tn_scale_factor||1,_=t.clientHeight,f=(c&&(_*=p),t.getBoundingClientRect().top+window.pageYOffset),u=f+_,m=t.getBoundingClientRect().left+window.pageXOffset,y=(c&&(m*=p),t.getBoundingClientRect().right+window.pageXOffset),g=(c&&(y*=p),window.pageYOffset),b=document.documentElement.clientWidth,h=g+document.documentElement.clientHeight,v=(e&&(e.style.display="block"),e&&(e.style.zIndex="-9999"),e&&(e.style.transform="translateX(-10000px)"),e?e.offsetHeight:0),w=e?e.offsetWidth:0,T=(c&&(w*=p),e&&(e.style.display=""),e&&(e.style.zIndex=""),e&&(e.style.transform=""),15);c&&(T*=p),r&&-1!==r.style.transform.indexOf("translateX")&&(n=parseInt(o.style.left),l=parseInt(o.style.left),c&&(n*=p),c&&(l*=p),m+=n,y-=n,f+=l,u-=l),"right"!==d&&"left"!==d||(s=y+T+w,a=m-T-w,("right"===d&&b<s||"left"===d&&a<0)&&(d="top")),"top"!==d&&"bottom"!==d||(a=m-(w/2-_/2),b<(s=y+(w/2-_/2))&&(c=-(b-y-T),e&&(e.style.left="auto"),e&&(e.style.transform="none"),e&&(e.style.right=c+"px")),a<0&&(e&&(e.style.left=-(m-T)+"px"),e&&(e.style.transform="none"))),"top"===d&&(i=f-T-v,u+T+v<h&&i<g&&(d="bottom")),"bottom"===d&&(i=f-T-v,h<u+T+v&&g<i&&(d="top")),e&&e.setAttribute("data-tip-pos",d),e&&(e.style.display="block"),e&&e.classList.add("tn-atom__tip_visible"),r&&o?o.style.zIndex="1000":t&&(t.style.zIndex="1000")}